(this["webpackJsonpwallet-transfer"]=this["webpackJsonpwallet-transfer"]||[]).push([[0],{343:function(e,t,n){},344:function(e,t,n){},373:function(e,t){},375:function(e,t){},385:function(e,t){},387:function(e,t){},414:function(e,t){},416:function(e,t){},444:function(e,t){},487:function(e,t){},489:function(e,t){},496:function(e,t){},497:function(e,t){},52:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return j}));var r=n(35),a=n(53),c=n(54),o=n(39),s=n.n(o),i=n(350),u=n(632).BITBOX,l=function(e){return new s.a(e).multipliedBy(1e8)};function d(e,t,n,r,a){return p.apply(this,arguments)}function p(){return(p=Object(a.a)(Object(r.a)().mark((function t(n,a,o,s,u){var d,p,x,h,m,g,O,v,w,y,k,S,B,C,E,D,T,I,H,N;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,d=c.IS_DEV?"testnet":"mainnet",p=new i({restURL:c.IS_DEV?"https://testnet3.fullstack.cash/v5/":"https://bchn.fullstack.cash/v5/"}),t.next=5,b(n,!1);case 5:return x=t.sent,h=l(o),console.log(h.c[0]),x<=0&&(console.log("Balance of sending address is zero. Exiting."),e.exit(0)),""===a&&(a=n),t.next=12,p.Mnemonic.toSeed(u);case 12:return g=t.sent,m=p.HDNode.fromSeed(g,d),O=m.derivePath("m/44'/145'/0'/0/0"),v=p.HDNode.toCashAddress(O),t.next=18,p.Electrumx.utxo(v);case 18:if(0!==(w=t.sent).utxos.length){t.next=21;break}throw new Error("No UTXOs found.");case 21:return y="mainnet"===d?new p.TransactionBuilder:new p.TransactionBuilder(d),k=h.c[0],S=0,B=[],w.utxos.map((function(e){var t=e;B.push(t),S+=t.value,y.addInput(t.tx_hash,t.tx_pos)})),t.next=28,j(n);case 28:if(C=t.sent,E=C.safe,!(S-E<0)){t.next=33;break}return console.log("Transaction fee costs more combined UTXOs. Can't send transaction."),t.abrupt("return");case 33:return y.addOutput(a,k),y.addOutput(n,S-k-E),t.next=37,f(u);case 37:return D=t.sent,T=p.HDNode.toKeyPair(D),B.forEach((function(e,t){y.sign(t,T,undefined,y.hashTypes.SIGHASH_ALL,e.value)})),I=y.build(),H=I.toHex(),console.log("hex",H),t.next=45,p.RawTransactions.sendRawTransaction([H]);case 45:return N=t.sent,console.log("Transaction ID: ".concat(N)),console.log(""),t.abrupt("return",N);case 51:t.prev=51,t.t0=t.catch(0),console.log("error: ",t.t0);case 54:case"end":return t.stop()}}),t,null,[[0,51]])})))).apply(this,arguments)}function b(e){return x.apply(this,arguments)}function x(){return(x=Object(a.a)(Object(r.a)().mark((function e(t){var n,a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Address from main page =",t),n=new i({restURL:c.IS_DEV?"https://testnet3.fullstack.cash/v5/":"https://bchn.fullstack.cash/v5/"}),e.next=5,n.Electrumx.balance(t);case 5:return a=e.sent,console.log(JSON.stringify(a,null,2)),e.abrupt("return",h(a.balance.confirmed));case 10:return e.prev=10,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return","cannot compute");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function f(e){var t,n=new u({restURL:c.IS_DEV?"https://testnet3.fullstack.cash/v5/":"https://bchn.fullstack.cash/v5/"}),r=n.Mnemonic.toSeed(e),a=c.IS_DEV?"testnet":"mainnet";t=n.HDNode.fromSeed(r,a);var o=n.HDNode.derivePath(t,"m/44'/145'/0'");return n.HDNode.derivePath(o,"0/0")}var h=function(e){return new s.a(e).dividedBy(1e8)};function j(e){return new Promise(function(){var t=Object(a.a)(Object(r.a)().mark((function t(n,a){var o,u,l,d;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("cash",e),void 0===e&&n({avg:0,fast:0,safe:0}),o=new i({restURL:c.IS_DEV?"https://testnet3.fullstack.cash/v5/":"https://bchn.fullstack.cash/v5/"}),t.next=6,o.Electrumx.utxo(e);case 6:u=t.sent,l=o.BitcoinCash.getByteCount({P2PKH:u.utxos.length},{P2PKH:2}),console.log("Transaction byte count: ".concat(l)),2,d=Math.floor(2*l),n({avg:new s.a(d).plus(100).toNumber(),fast:new s.a(d).plus(200).toNumber(),safe:new s.a(d).toNumber()}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),a(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,n){return t.apply(this,arguments)}}())}}).call(this,n(12))},54:function(e,t){e.exports={network:"testnet",isDev:!1}},731:function(e,t){},753:function(e,t,n){"use strict";n.r(t);var r,a,c,o,s,i=n(0),u=n(331),l=n.n(u),d=(n(343),n(344),n(67)),p=n(35),b=n(53),x=n(23),f=n(68),h=n(756),j=n(755),m=n(69),g=n(164),O=n(102),v=n.n(O),w=n(52),y=n(1),k=function(){var e=Object(i.useState)(""),t=Object(x.a)(e,2),n=t[0],r=t[1],a=Object(i.useState)(""),c=Object(x.a)(a,2),o=c[0],s=c[1],u=Object(i.useState)(0),l=Object(x.a)(u,2),d=l[0],f=l[1],j=Object(i.useState)("0"),O=Object(x.a)(j,2),k=O[0],T=O[1],I=Object(i.useState)(""),H=Object(x.a)(I,2),N=H[0],z=H[1],A=Object(i.useState)(0),F=Object(x.a)(A,2),P=F[0],_=F[1];Object(i.useEffect)((function(){try{var e=function(){var e=Object(b.a)(Object(p.a)().mark((function e(){var t,n;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.a)(o,!1);case 2:return t=e.sent,e.next=5,Object(w.b)(o);case 5:n=e.sent,_((1e8*t-n.safe-7e3)/1e8),T(t.toString()),console.log("Here is the balance",t.toString()),console.log("Here is the fee",n.safe);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}catch(t){v.a.fire({title:"Failed!!!",text:t.message,icon:"error"}),T(0)}}),[o]);var R=function(){var e=Object(b.a)(Object(p.a)().mark((function e(t){var r,a,c,s;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("amount",d),r=String(parseFloat(d).toFixed(7)),e.next=4,Object(w.a)(o);case 4:return a=e.sent,c=String(parseFloat(a).toFixed(7)),t.preventDefault(),e.prev=7,console.log("address =",n),console.log("amount =",d),console.log("mnemonics =",N),e.next=13,Object(w.c)(o,n,r,c,N);case 13:s=e.sent,v.a.fire({title:"Sent!!!",text:"Transaction successful.",icon:"success",html:'<a href="https://blockchair.com/bitcoin-cash/transaction/'.concat(s,'" target="_blank">View on Explorer</a>')}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(7),v.a.fire({title:"Failed!!!",text:"Transaction Failed.",icon:"error"});case 20:document.getElementById("form").reset();case 21:case"end":return e.stop()}}),e,null,[[7,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(S,{children:Object(y.jsx)(B,{children:Object(y.jsxs)(m.a,{border:"primary",style:{width:"36rem"},children:[Object(y.jsxs)(m.a.Body,{children:[Object(y.jsxs)(m.a.Title,{children:[" ",Object(y.jsx)("h1",{children:"Wallet Pay"})]}),Object(y.jsx)(m.a.Text,{children:"Send BCH to any address."})]}),Object(y.jsx)(g.a,{className:"list-group-flush",children:Object(y.jsxs)(h.a,{id:"form",children:[Object(y.jsx)(C,{children:Object(y.jsx)(h.a.Control,{type:"text",placeholder:"Sender's Address",size:"sm",name:"Receiver's Address",onChange:function(e){return s(e.target.value)}})}),Object(y.jsx)("br",{}),Object(y.jsxs)(g.a.Item,{children:["Balance: ",k]}),Object(y.jsx)("br",{}),Object(y.jsx)(C,{children:Object(y.jsx)(h.a.Control,{type:"text",placeholder:"Receiver's Address",size:"sm",name:"Receiver's Address",onChange:function(e){return r(e.target.value)}})}),Object(y.jsx)("br",{}),Object(y.jsx)(C,{children:Object(y.jsx)(h.a.Control,{type:"number",placeholder:"Amount to Send",size:"sm",name:"Amount",onChange:function(e){return f(e.target.value)},value:d,id:"amount"})}),Object(y.jsx)("br",{}),Object(y.jsx)(D,{variant:"light",onClick:function(e){e.preventDefault();try{f(P),document.getElementById("amount").value=P,console.log("maxAmt =",P)}catch(t){console.log("Error setting max amount")}},size:"sm",style:{marginBottom:"10px"},children:"Send Max"}),Object(y.jsx)("br",{}),Object(y.jsx)(C,{children:Object(y.jsx)(h.a.Control,{type:"textarea",placeholder:"Mnemonics",size:"sm",name:"Mnemonics",onChange:function(e){return z(e.target.value)}})}),Object(y.jsxs)(E,{children:[Object(y.jsx)(D,{variant:"dark",onClick:R,size:"sm",children:"Send"}),Object(y.jsx)("br",{})]})]})}),Object(y.jsx)(m.a.Body,{})]})})})})},S=f.a.div(r||(r=Object(d.a)(["\n  padding: 30px 0px;\n  display: flex;\n  flex-direction: row;\n  @media (max-width: 768px) {\n    padding: 0;\n    margin: 0;\n  }\n  input::placeholder,\n  textarea::placeholder {\n    color: rgb(221, 221, 221);\n  }\n"]))),B=f.a.div(a||(a=Object(d.a)(["\n  margin: auto;\n  padding: 20px;\n  border: 3px solid #000000;\n  border-radius: 10px;\n"]))),C=f.a.div(c||(c=Object(d.a)(['\n  margin: auto;\n  text-align: center;\n  border: 1px solid #113d8a;\n  box-sizing: border-box;\n  border-radius: 5px;\n  input[type="number"]::-webkit-outer-spin-button,\n  input[type="number"]::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n  input[type="number"] {\n    -moz-appearance: none;\n  }\n  > input {\n    border-radius: 5px;\n    font-size: 16px;\n    padding: 10px 15px;\n    border: none;\n  }\n  > textarea {\n    resize: none;\n    border-radius: 5px;\n    font-size: 16px;\n    padding: 10px 15px;\n    width: 100%;\n    height: 287px;\n  }\n']))),E=f.a.div(o||(o=Object(d.a)(["\n  padding-top: 30px;\n  padding-bottom: 40px;\n  text-align: center;\n  @media (max-width: 768px) {\n    text-align: center;\n    padding-top: 10px;\n  }\n"]))),D=Object(f.a)(j.a)(s||(s=Object(d.a)(["\n  padding: 10px 45px;\n  border-radius: 10px;\n  color: #ffffff;\n  border: none;\n  background: #1240c2;\n  text-align: center;\n  @media (max-width: 768px) {\n    margin: 50px 0;\n  }\n  :hover {\n    color: pink;\n  }\n"])));var T=function(){return Object(y.jsx)("div",{className:"App",children:Object(y.jsx)(k,{})})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,757)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))};n(752);l.a.render(Object(y.jsx)(T,{}),document.getElementById("root")),I()}},[[753,1,2]]]);
//# sourceMappingURL=main.1f066223.chunk.js.map